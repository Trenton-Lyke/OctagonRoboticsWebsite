<!DOCTYPE html>
<!--Trenton Lyke, August 8, 2019. -->
<html id = "ForumMenu">
<head>
<meta charset = "UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap Links -->

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css">
<link href="https://cdn.jsdelivr.net/npm/froala-editor@3.0.0-beta.1/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js" ></script>
 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/froala-editor@3.0.0-beta.1/js/froala_editor.pkgd.min.js"></script>
<link href="https://raw.githack.com/ttskch/select2-bootstrap4-theme/master/dist/select2-bootstrap4.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/css/select2.min.css" rel="stylesheet" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/js/select2.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.18/r-2.2.2/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.18/r-2.2.2/datatables.min.js"></script>






<!--My Stuff-->
<link rel = "stylesheet" href = "styles.css"/>


<title>SchoolBoard</title>
<link rel = "icon" href = "favicon.png" type = "image/jpg"/>
</head>
<body>
<nav class="navbar navbar-expand-md bg-dark navbar-dark">
  
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav ma">
      <li class="nav-item">
      <a class="nav-link" href="/">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link active" href="/3DPrinterOrderForm">3D Printing Vendor</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/LindblomOrderForm">Lindblom Machining</a>
    </li>
  
	<li class="nav-item">
      <a class="nav-link" href="#">Robotics Forum</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/signup">Sign Up</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/login">Login</a>
    </li>    
    </ul>
  </div>  
</nav>


<div class = "container-fluid mainBack">
	<h1 id="fadeIn1">Robotics Forum Menu</h1>
</div>
<div class="container text-center forumContainer" >
<h2 class="forumTopicHeader"><%=topic.name%></h2>
<h4 ><%=topic.description%></h4>	
	
            
					<%
					var postCount = 0;
					posts.forEach(function(post){%>
					
						<div class="row">
							<div class="col-md-2"><img src="<%=post.profile_picture%>" class="forumPic img-thumbnail"></div>
							
							<div class="col-md-8">
							<br>
							<br>
							<div class="talk-bubble tri-right left-top">
						  <div class="talktext text-left">
						  <br/>
							<h4 class="forumUsername"><%=post.username%></h4>
							<pre><%=post.post_date%></pre>
							<div id="post<%=postCount%>"></div>
							<%-post.content%>
						  </div>
						</div>
						</div>
						
						</div>
						
						
					 <%})	%>
				
            
		
	</div>
	<form method="post"  action="/addPost?id=<%=id%>">
	<div class="container">
	<div class="row">
	<div class="col-md-12 text-left">
	<h3>Add something to the conversation</h3>
	<textarea name="content" id="myEditor" required></textarea>
	</div>
	</div>
	<div class="row row justify-content-end">
	<div class="col-md-1">
	<input type="submit" class="btn btn-info">
	</div>
	
	<div class="col-md-1">
	<input type="reset" class="btn btn-secondary">
	</div>
	
	</div>
	
  
</form>

<script>
  new FroalaEditor('#myEditor', {
    // Set the file upload URL.
    fileUploadURL: '/file_upload',
	fileUploadParams: {
        id: 'my_editor'
      },
	imageUploadURL: '/image_upload',
      imageUploadParams: {
        id: 'my_editor'
      },
	  videoUploadURL: '/video_upload',
      videoUploadParams: {
        id: 'my_editor'
      }
  })
  
  
</script>
</body>
<script>
$(document).ready(function() {
    $('#example').DataTable({
		responsive: true
	});
} );

// Add the following code if you want the name of the file appear on select
$(".custom-file-input").on("change", function() {
  var fileName = $(this).val().split("\\").pop();
  $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
});

$($(document).ready(function() {
    $('.select2').select2({
		theme: 'bootstrap4',
	});
}));

function myFunc(){
alert('This may take a while. ')
}
$( function() {
    $( "#tabs" ).tabs();
  } );
  
  
</script>

</html>
